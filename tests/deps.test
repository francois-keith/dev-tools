#! /bin/sh

initPkg()
{
   cd "$1" || exit 2
   echo "Bootstrap..."
   ./bootstrap || exit 2
   echo "Configure..."
   ./configure || exit 2
   echo "Distcheck..."
   make distcheck || exit 2
}

echo "Generate packages..."
package-create-local -p toto || exit 2
package-create-local -p tata -dd toto || exit 2
package-create-local -p titi -d tata -dd toto || exit 2

initPkg toto
initPkg tata
initPkg titi

# TODO: make Titi::Titi derive from Tata::Tata to make
# sure generated packages have correct dependencies.
